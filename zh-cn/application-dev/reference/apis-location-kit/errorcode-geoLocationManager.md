# 位置服务错误码

> **说明：**
>
> 以下仅介绍本模块特有错误码，通用错误码请参考[通用错误码说明文档](../errorcode-universal.md)。

## 3301000 位置服务不可用

**错误信息**

Location service is unavailable.

**错误描述**

位置服务不可用，位置服务相关的接口无法调用。

**可能原因**

1.位置服务启动异常，导致应用和位置服务子系统通信失败，导致位置服务不可用。

2.GNSS芯片初始化失败导致GNSS定位功能失效。

3.网络定位服务异常，导致网络定位功能失效。

**处理步骤**

请停止调用该接口。

## 3301100 位置功能的开关未开启导致功能失败

**错误信息**

The location switch is off.

**错误描述**

位置功能的开关未开启导致功能失败。

**可能原因**

位置功能的开关未开启，导致持续定位，单次定位等基本功能不可用。

**处理步骤**

请提示用户开启位置功能的开关。

## 3301200 定位失败，未获取到定位结果

**错误信息**

Failed to obtain the geographical location.

**错误描述**

定位失败，未获取到定位结果。

**可能原因**

1.GNSS信号弱，导致定位超时。

2.网络定位异常，导致定位超时。

3.定位结果不满足定位请求参数中的精度要求(maxAccuracy)，导致定位超时。

4.系统无缓存位置，导致获取上一次位置失败。

5.系统时间设置错误，导致获取位置失败。

**处理步骤**

1.请移动至开阔地带再发起定位。

2.请检查设备是否能联网，设备是否插入SIM卡，WiFi开关是否开启等。

3.请检查定位请求中的maxAccuracy字段是否合理。

4.系统无缓存位置的情况下，请使用getCurrentLocation接口获取实时位置信息。

5.请在“日期和时间”页面勾选自动设置。

## 3301201 网络不通导致网络定位失败

**错误信息**

Network locating failure due to internet access failure.

**错误描述**

网络不通导致网络定位失败。

**可能原因**

1.WiFi开关未开启且移动数据开关未开启。

2.蜂窝或WiFi信号弱。

**处理步骤** 

如果处于室内环境请确保WiFi开关或移动数据开关处于开启状态，并且能上网，然后再发起定位。

## 3301202 APP无后台定位权限导致定位失败

**错误信息**

Locating failure due to no background locating permission.

**错误描述**

APP无ohos.permission.LOCATION_IN_BACKGROUND权限导致定位失败。

**可能原因**

1.APP在后台定位且无ohos.permission.LOCATION_IN_BACKGROUND权限且未申请LOCATION类型的[长时任务](../../task-management/continuous-task.md)。

**处理步骤**

如果需要在后台进行定位业务，请申请LOCATION类型的[长时任务](../../task-management/continuous-task.md)。
或者提示用户在位置信息页面设置本应用位置信息访问权限为“始终允许”。

## 3301300 逆地理编码查询失败

**错误信息**

Reverse geocoding query failed.

**错误描述**

逆地理编码查询失败。

**可能原因**

数据网络比较卡顿，导致端侧的请求发送失败或者云端的结果未返回到端侧。

**处理步骤**

请重试逆地理编码查询。

## 3301400 地理编码查询失败

**错误信息**

Geocoding query failed.

**错误描述**

地理编码查询失败。

**可能原因**

数据网络比较卡顿，导致端侧的请求发送失败或者云端的结果未返回到端侧。

**处理步骤**

请重试地理编码查询。

## 3301500 区域信息（包含国家码）查询失败

**错误信息**

Failed to query the area information.

**错误描述**

区域信息（包含国家码）查询失败。

**可能原因**

未查询到正确的区域信息。

**处理步骤**

请停止调用查询区域码的接口。

## 3301600 地理围栏操作失败

**错误信息**

Failed to operate the geofence.

**错误描述**

地理围栏操作失败，包含添加，删除，暂停和恢复等操作。

**可能原因**

1.GNSS芯片不支持地理围栏功能。

2.底层业务逻辑异常导致操作地理围栏失败。

**处理步骤**

请停止调用地理围栏操作接口。

## 3301601 地理围栏个数超过最大值限制导致添加围栏失败

**错误信息**

The number of geofences exceeds the maximum.

**错误描述**

地理围栏个数超过最大限制导致添加围栏失败。

**可能原因**

1.系统中存在的地理围栏个数超过最大值限制。

**处理步骤**

请在删除多余围栏之后再添加新的围栏。

## 3301602 地理围栏ID错误导致删除围栏失败

**错误信息**

Failed to delete a geofence due to an incorrect ID.

**错误描述**

地理围栏ID错误导致删除围栏失败。

**可能原因**

1.APP调用删除地理围栏接口时传入的围栏ID错误。

**处理步骤**

请在调用删除地理围栏接口时传入正确的围栏ID。

## 3301700 请求无响应

**错误信息**

No response to the request.

**错误描述**

某些异步请求需要用户点击按钮确认，或者需要GNSS芯片和网络服务器响应，这些场景下未收到响应导致业务失败。

**可能原因**

1.用户未点击按钮确认。

2.GNSS芯片未响应。

3.网络服务器未响应。

**处理步骤**

请停止调用相关接口。

## 3301800 启动WiFi或蓝牙扫描失败

**错误信息**

Failed to start WiFi or Bluetooth scanning.

**错误描述**

在订阅WiFi蓝牙扫描信息时，可能会先启动WiFi蓝牙扫描，如果启动扫描失败则会返回错误码给APP。

**可能原因**

1.WiFi或蓝牙服务内部错误导致启动扫描失败。

2.低电量场景下，受功耗管控，导致无法发起扫描。

3.WiFi或蓝牙开关未开启。

**处理步骤**

重新关闭开启WiFi或蓝牙开关。